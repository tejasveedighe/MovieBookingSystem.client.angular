<section class="window-warning inActive">
  <div class="lay"></div>
  <div class="warning-item">
    <h6 class="subtitle">Welcome!</h6>
    <h4 class="title">Select Your Seats</h4>
    <div class="thumb">
      <img src="assets/images/movie/seat-plan.png" alt="movie" />
    </div>
    <a href="movie-seat-plan.html" class="custom-button seatPlanButton"
      >Seat Plans<i class="fas fa-angle-right"></i
    ></a>
  </div>
</section>

<section
  class="details-banner hero-area bg_img"
  [attr.data-background]="
    'data:image/jpeg;base64, ' + movie?.movieThumbnail?.photo
  "
  [style.background-image]="
    'url(data:image/jpeg;base64,' + movie?.movieThumbnail?.photo + ')'
  "
>
  <div class="container">
    <div class="details-banner-wrapper">
      <div class="details-banner-content">
        <h3 class="title">{{ movie?.movieTitle }}</h3>
        <div class="tags">
          <a href="#0">English</a>
          <a href="#0">Hindi</a>
          <a href="#0">Telegu</a>
          <a href="#0">Tamil</a>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="book-section bg-one">
  <div class="container">
    <form class="ticket-search-form two">
      <div class="form-group">
        <div class="thumb">
          <img src="assets/images/ticket/date.png" alt="ticket" />
        </div>
        <span class="type">date</span>
        <div class="nice-select" tabindex="0">
          <span class="current">{{ selectedDate }}</span>
          <ul class="list">
            @for (date of allShowDates; track $index) {
            <li
              [attr.data-value]="date"
              [class]="'option'"
              (click)="changeDate(date)"
            >
              {{ date.toString() }}
            </li>
            }
          </ul>
        </div>
      </div>
    </form>
  </div>
</section>

<div class="ticket-plan-section padding-bottom padding-top">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-9 mb-5 mb-lg-0">
        <ul class="seat-plan-wrapper bg-five">
          @for (data of showTimesData; track $index) {
          <li>
            <div class="movie-name">
              <div class="icons">
                <i class="far fa-heart"></i>
                <i class="fas fa-heart"></i>
              </div>
              <a href="#0" class="name">{{ data.theater.theaterName }}</a>
              <div class="location-icon">
                <i class="fas fa-map-marker-alt"></i>
              </div>
            </div>
            <div class="movie-schedule">
              @for(show of filterShowsByDate(data.shows); track show.showTimeId)
              {
              <div class="item">
                <a
                  [routerLink]="[
                    '/bookings/' +
                      movieId +
                      '/seat-selection/hall/' +
                      show.hallId +
                      '/show/' +
                      show.showTimeId
                  ]"
                  routerLinkActive="router-link-active"
                  class="text-decoration-none"
                >
                  {{ show.showDateTime.split("T")[1] }}
                </a>
              </div>
              }@empty {
              <div class="text-danger">No Shows</div>
              }
            </div>
          </li>
          }
        </ul>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-10">
        <div class="widget-1 widget-banner">
          <div class="widget-1-body">
            <a href="#0">
              <img
                src="assets/images/sidebar/banner/banner03.jpg"
                alt="banner"
              />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
